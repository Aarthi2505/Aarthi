AWSTemplateFormatVersion: 2010-09-09
Metadata:
  'AWS::CloudFormation::Designer':
    907bb815-a43b-42dc-8c05-949eb2866374:
      size:
        width: 830
        height: 470
      position:
        x: 360
        'y': 80
      z: 0
      embeds:
        - 30d5e7cf-4a06-47ee-abe5-2fe7700734e5
        - 3239034b-067d-4c7f-9e3b-a247fd7db64c
        - 1b0ef427-5649-43ac-8c66-733b5b5fe10d
        - c9c205fd-760b-4631-b4c8-2683b6144244
        - 2213fdee-e465-4f2f-8914-f1b7e81e92e8
        - ccccfbb8-57b8-4f11-8e4e-93a1d5ece379
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - 743866de-ee2c-49ea-afdc-389a661a2490
        - 27f02a0b-eef0-4e28-87b4-6ff4bfe8f726
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
    01b32dda-9712-4442-bca2-f48bc5bcc144:
      size:
        width: 60
        height: 60
      position:
        x: 240
        'y': 100
      z: 0
      embeds: []
    07daf9b5-0b0e-46db-84f9-6764e70bfe03:
      size:
        width: 130
        height: 120
      position:
        x: 394
        'y': 126
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds:
        - 5cd9224d-9ffd-4ac6-9f77-dba5f13263f1
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    5cd9224d-9ffd-4ac6-9f77-dba5f13263f1:
      size:
        width: 60
        height: 60
      position:
        x: 430
        'y': 160
      z: 2
      parent: 07daf9b5-0b0e-46db-84f9-6764e70bfe03
      embeds: []
      iscontainedinside:
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
        - 07daf9b5-0b0e-46db-84f9-6764e70bfe03
    b8767ef4-7662-470d-9482-fb9f0e3e9667:
      size:
        width: 130
        height: 120
      position:
        x: 544
        'y': 126
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds:
        - def129c1-5fdf-4863-93ed-b1e06f3f93df
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    def129c1-5fdf-4863-93ed-b1e06f3f93df:
      size:
        width: 60
        height: 60
      position:
        x: 584
        'y': 156
      z: 2
      parent: b8767ef4-7662-470d-9482-fb9f0e3e9667
      embeds: []
      iscontainedinside:
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
        - b8767ef4-7662-470d-9482-fb9f0e3e9667
    27f02a0b-eef0-4e28-87b4-6ff4bfe8f726:
      size:
        width: 60
        height: 60
      position:
        x: 710
        'y': 330
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    743866de-ee2c-49ea-afdc-389a661a2490:
      size:
        width: 60
        height: 60
      position:
        x: 710
        'y': 160
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    2213fdee-e465-4f2f-8914-f1b7e81e92e8:
      size:
        width: 60
        height: 60
      position:
        x: 1020
        'y': 280
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    c9c205fd-760b-4631-b4c8-2683b6144244:
      size:
        width: 60
        height: 60
      position:
        x: 800
        'y': 470
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
    1b0ef427-5649-43ac-8c66-733b5b5fe10d:
      size:
        width: 60
        height: 60
      position:
        x: 810
        'y': 250
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
    3239034b-067d-4c7f-9e3b-a247fd7db64c:
      size:
        width: 60
        height: 60
      position:
        x: 1020
        'y': 160
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
    ef2a559a-3d3c-4760-80c2-46ab2b87ac42:
      size:
        width: 130
        height: 140
      position:
        x: 390
        'y': 300
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds:
        - eed60ea6-c46d-4586-b0d4-c46c8f579adc
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    eed60ea6-c46d-4586-b0d4-c46c8f579adc:
      size:
        width: 60
        height: 60
      position:
        x: 427
        'y': 333
      z: 2
      parent: ef2a559a-3d3c-4760-80c2-46ab2b87ac42
      embeds: []
      iscontainedinside:
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
        - ef2a559a-3d3c-4760-80c2-46ab2b87ac42
    082eccfc-dfc4-496f-ad3d-cb4eeff15f0b:
      size:
        width: 140
        height: 140
      position:
        x: 540
        'y': 300
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds:
        - 61215ffb-57ca-4c0d-846d-e4be4e792d3b
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
    61215ffb-57ca-4c0d-846d-e4be4e792d3b:
      size:
        width: 60
        height: 60
      position:
        x: 580
        'y': 340
      z: 2
      parent: 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
      embeds: []
      iscontainedinside:
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
        - 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
    30d5e7cf-4a06-47ee-abe5-2fe7700734e5:
      size:
        width: 60
        height: 60
      position:
        x: 900
        'y': 360
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
    ccccfbb8-57b8-4f11-8e4e-93a1d5ece379:
      size:
        width: 60
        height: 60
      position:
        x: 900
        'y': 170
      z: 1
      parent: 907bb815-a43b-42dc-8c05-949eb2866374
      embeds: []
      iscontainedinside:
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
        - 907bb815-a43b-42dc-8c05-949eb2866374
Resources:
  VPC:
    Type: 'AWS::EC2::VPC'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 907bb815-a43b-42dc-8c05-949eb2866374
  InternetGateway:
    Type: 'AWS::EC2::InternetGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 01b32dda-9712-4442-bca2-f48bc5bcc144
  RTPublic:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 07daf9b5-0b0e-46db-84f9-6764e70bfe03
  PublicRoute:
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref RTPublic
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 5cd9224d-9ffd-4ac6-9f77-dba5f13263f1
  SubNetPublic:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: b8767ef4-7662-470d-9482-fb9f0e3e9667
  WebServerInstancePublic:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref SubnetPublic
    Metadata:
      'AWS::CloudFormation::Designer':
        id: def129c1-5fdf-4863-93ed-b1e06f3f93df
  SGPrivate:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 27f02a0b-eef0-4e28-87b4-6ff4bfe8f726
  SGPublic:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 743866de-ee2c-49ea-afdc-389a661a2490
  AutoScaleLC:
    Type: 'AWS::AutoScaling::LaunchConfiguration'
    Properties:
      ClassicLinkVPCId: !Ref EC2VPC3JLML
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2213fdee-e465-4f2f-8914-f1b7e81e92e8
  LoadBalancerListner:
    Type: 'AWS::ElasticLoadBalancingV2::Listener'
    Properties:
      DefaultActions:
        - Type: forward
          TargetGroupArn: !Ref ALBTargetGroup
      LoadBalancerArn: !Ref ApplicationLoadBalancer
      Port: '80'
      Protocol: HTTP
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c9c205fd-760b-4631-b4c8-2683b6144244
  WebServerGroup:
    Type: 'AWS::AutoScaling::AutoScalingGroup'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 1b0ef427-5649-43ac-8c66-733b5b5fe10d
  RDSDBI4AEBU:
    Type: 'AWS::RDS::DBInstance'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 3239034b-067d-4c7f-9e3b-a247fd7db64c
  RTPrivate:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ef2a559a-3d3c-4760-80c2-46ab2b87ac42
  RoutePrivate:
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref RTPrivate
    Metadata:
      'AWS::CloudFormation::Designer':
        id: eed60ea6-c46d-4586-b0d4-c46c8f579adc
  SubNetPrivate:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 082eccfc-dfc4-496f-ad3d-cb4eeff15f0b
  WebServerInstancePrivate:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref SubnetPrivate
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 61215ffb-57ca-4c0d-846d-e4be4e792d3b
  ELBV2LoadBalancer:
    Type: 'AWS::ElasticLoadBalancingV2::LoadBalancer'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 30d5e7cf-4a06-47ee-abe5-2fe7700734e5
  EC2SG5VHA:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref VPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ccccfbb8-57b8-4f11-8e4e-93a1d5ece379
